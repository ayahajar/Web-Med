{% extends 'web_med/base.html' %} {% load staticfiles %} {% block title %}AMI Processing{% endblock %} {% block javascript %}
<script src="{% static 'web_med/js/dialogPolyfill.js' %}"></script>

{% endblock %} {% block content %}

<link rel="stylesheet" type="text/css" href="{% static 'web_med/dialogPolyfill.css' %}" />

<script type="text/javascript" src="http://get.goXTK.com/xtk.js"></script>

<!-- /////////////////////////// Script /////////////////////////// -->

<script>
    window.onload = function() {

        var _dicom = ['53320924', '53321068', '53322843', '53322987', '53323131',
            '53323275', '53323419', '53323563', '53323707', '53323851',
            '53323995', '53324139', '53324283', '53325471', '53325615',
            '53325759', '53325903', '53320940', '53321084', '53322859',
            '53323003', '53323147', '53323291', '53323435', '53323579',
            '53323723', '53323867', '53324011', '53324155', '53324299',
            '53325487', '53325631', '53325775', '53325919', '53320956',
            '53322731', '53322875', '53323019', '53323163', '53323307',
            '53323451', '53323595', '53323739', '53323883', '53324027',
            '53324171', '53324315', '53325503', '53325647', '53325791',
            '53325935', '53320972', '53322747', '53322891', '53323035',
            '53323179', '53323323', '53323467', '53323611', '53323755',
            '53323899', '53324043', '53324187', '53325375', '53325519',
            '53325663', '53325807', '53325951', '53320988', '53322763',
            '53322907', '53323051', '53323195', '53323339', '53323483',
            '53323627', '53323771', '53323915', '53324059', '53324203',
            '53325391', '53325535', '53325679', '53325823', '53321004',
            '53322779', '53322923', '53323067', '53323211', '53323355',
            '53323499', '53323643', '53323787', '53323931', '53324075',
            '53324219', '53325407', '53325551', '53325695', '53325839',
            '53321020', '53322795', '53322939', '53323083', '53323227',
            '53323371', '53323515', '53323659', '53323803', '53323947',
            '53324091', '53324235', '53325423', '53325567', '53325711',
            '53325855', '53321036', '53322811', '53322955', '53323099',
            '53323243', '53323387', '53323531', '53323675', '53323819',
            '53323963', '53324107', '53324251', '53325439', '53325583',
            '53325727', '53325871', '53321052', '53322827', '53322971',
            '53323115', '53323259', '53323403', '53323547', '53323691',
            '53323835', '53323979', '53324123', '53324267', '53325455',
            '53325599', '53325743', '53325887'
        ];



        /*var _dicom = ['http://127.0.0.1:8000/media/dicom/1/MR000000',
            'http://127.0.0.1:8000/media/dicom/1/MR000001',
            'http://127.0.0.1:8000/media/dicom/1/MR000002',
            'http://127.0.0.1:8000/media/dicom/1/MR000003',
            'http://127.0.0.1:8000/media/dicom/1/MR000004',
            'http://127.0.0.1:8000/media/dicom/1/MR000005',
            'http://127.0.0.1:8000/media/dicom/1/MR000006',
            'http://127.0.0.1:8000/media/dicom/1/MR000007',
            'http://127.0.0.1:8000/media/dicom/1/MR000008',
            'http://127.0.0.1:8000/media/dicom/1/MR000009',
            'http://127.0.0.1:8000/media/dicom/1/MR000010',
            'http://127.0.0.1:8000/media/dicom/1/MR000011',
            'http://127.0.0.1:8000/media/dicom/1/MR000012',
            'http://127.0.0.1:8000/media/dicom/1/MR000013',
            'http://127.0.0.1:8000/media/dicom/1/MR000014',
            'http://127.0.0.1:8000/media/dicom/1/MR000015',
            'http://127.0.0.1:8000/media/dicom/1/MR000016',
            'http://127.0.0.1:8000/media/dicom/1/MR000017',
            'http://127.0.0.1:8000/media/dicom/1/MR000018',
            'http://127.0.0.1:8000/media/dicom/1/MR000019',
            'http://127.0.0.1:8000/media/dicom/1/MR000020',
            'http://127.0.0.1:8000/media/dicom/1/MR000021',
            'http://127.0.0.1:8000/media/dicom/1/MR000022',
            'http://127.0.0.1:8000/media/dicom/1/MR000023',
            'http://127.0.0.1:8000/media/dicom/1/MR000024',
            'http://127.0.0.1:8000/media/dicom/1/MR000025',
            'http://127.0.0.1:8000/media/dicom/1/MR000026'
        ];
        */

        // create a new test_renderer
        var r = new X.renderer3D();
        r.init();

        // we create the X.volume container and attach all DICOM files
        var v = new X.volume();
        

	// map the data url to each of the slices
        /*        v.file = _dicom.map(function(v) {

                    // we also add the 'fake' .DCM extension since else wise
                    // XTK would think .org is the extension
                    return v + '.dcm';

                });
        */

        v.file = _dicom.sort().map(function(v) {

            // we also add the 'fake' .DCM extension since else wise
            // XTK would think .org is the extension
            return 'http://x.babymri.org/?' + v + '&.DCM';

        });


        // add the volume
        r.add(v);
        r.camera.position = [-150, -50, 500];
        r.camera.up = [0, -1, 0];
        r.render();

        r.onShowtime = function() {

            // activate volume rendering
            v.volumeRendering = true;
            v.lowerThreshold = 80;
            v.windowLower = 115;
            v.windowHigh = 360;
            v.minColor = [0, 0.06666666666666667, 1];
            v.maxColor = [0.5843137254901961, 1, 0];
            v.opacity = 0.2;

        };

        volume = v;

    };
</script>

<style>
    html,
    body {
        background-color: #000;
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden !important;
    }
</style>
{% endblock %}


